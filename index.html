<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Morpheus by xamoom</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Morpheus</h1>
      <h2 class="project-tagline">JSONAPI Implementation for Android</h2>
      <a href="https://github.com/xamoom/Morpheus" class="btn">View on GitHub</a>
      <a href="https://github.com/xamoom/Morpheus/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/xamoom/Morpheus/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="morpheus" class="anchor" href="#morpheus" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Morpheus</h1>

<p>Morpheus is a <a href="http://jsonapi.org/">JSONAPI</a> deserializer for android that uses java reflection.
You can define your own java classes to deserialize.</p>

<p>Take a look at the <a href="http://xamoom.github.io/Morpheus/docs/docs/index.html">documentation</a>.</p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<p>Prepare your resources</p>

<ol>
<li>extend Resource</li>
<li>Use @SerializeName() annotation when your field name differs from the json.</li>
<li>Create relationship mapping with the @Relationship() annotation.</li>
</ol>

<div class="highlight highlight-source-java"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">Article</span> <span class="pl-k">extends</span> <span class="pl-e">Resource</span> {
  <span class="pl-k">@SerializeName</span>(<span class="pl-s"><span class="pl-pds">"</span>article-title<span class="pl-pds">"</span></span>)
  <span class="pl-k">private</span> <span class="pl-smi">String</span> title;
  <span class="pl-k">@Relationship</span>(<span class="pl-s"><span class="pl-pds">"</span>author<span class="pl-pds">"</span></span>)
  <span class="pl-k">private</span> <span class="pl-smi">Author</span> author;
  <span class="pl-k">@Relationship</span>(<span class="pl-s"><span class="pl-pds">"</span>comments<span class="pl-pds">"</span></span>)
  <span class="pl-k">private</span> <span class="pl-k">List&lt;<span class="pl-smi">Comment</span>&gt;</span> comments;
}</pre></div>

<p>Deserialize your data</p>

<ol>
<li>Create a Morpheus instance</li>
<li>Register your resources</li>
<li>parse your JSON string</li>
</ol>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">Morpheus</span> morpheus <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">Morpheus</span>();
<span class="pl-c">//register your resources</span>
<span class="pl-smi">Deserializer</span><span class="pl-k">.</span>registerResourceClass(<span class="pl-s"><span class="pl-pds">"</span>articles<span class="pl-pds">"</span></span>, <span class="pl-smi">Article</span><span class="pl-k">.</span>class);
<span class="pl-smi">Deserializer</span><span class="pl-k">.</span>registerResourceClass(<span class="pl-s"><span class="pl-pds">"</span>people<span class="pl-pds">"</span></span>, <span class="pl-smi">Author</span><span class="pl-k">.</span>class);
<span class="pl-smi">Deserializer</span><span class="pl-k">.</span>registerResourceClass(<span class="pl-s"><span class="pl-pds">"</span>comments<span class="pl-pds">"</span></span>, <span class="pl-smi">Comment</span><span class="pl-k">.</span>class);
<span class="pl-smi">JSONAPIObject</span> jsonapiObject <span class="pl-k">=</span>
        morpheus<span class="pl-k">.</span>parse(loadJSONFromAsset(<span class="pl-smi">R</span><span class="pl-k">.</span>raw<span class="pl-k">.</span>articles));

<span class="pl-smi">Article</span> article <span class="pl-k">=</span> (<span class="pl-smi">Article</span>)jsonapiObject<span class="pl-k">.</span>getResources()<span class="pl-k">.</span>get(<span class="pl-c1">0</span>);
<span class="pl-smi">Log</span><span class="pl-k">.</span>v(<span class="pl-c1">TAG</span>, <span class="pl-s"><span class="pl-pds">"</span>Article Id: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> article<span class="pl-k">.</span>getId())</pre></div>

<h1>
<a id="development-status" class="anchor" href="#development-status" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Development status</h1>

<p>Morpheus can (0.3.0):</p>

<ul>
<li>deserialize data object or array</li>
<li>deserialize relationships</li>
<li>map includes to relationships</li>
<li>deserialize links, meta, errors</li>
</ul>

<h1>
<a id="data-attribute-mapping" class="anchor" href="#data-attribute-mapping" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Attribute Mapping</h1>

<p>At the moment Morpheus maps</p>

<ul>
<li>Strings -&gt; <code>String</code>
</li>
<li>Floats -&gt; <code>double</code>
</li>
<li>Booleans -&gt; <code>boolean</code>
</li>
<li>JSONArrays -&gt; <code>List&lt;Object&gt;</code>
</li>
<li>JSONObject -&gt; <code>ArrayMap&lt;String, Object&gt;</code>
</li>
</ul>

<p>You can write your own AttributeMapper by extending <code>AttributeMapper.java</code> and initialize Morpheus with your mapper.</p>

<h1>
<a id="contribution" class="anchor" href="#contribution" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contribution</h1>

<p>If you want to contritbute: make your changes and do a pull request.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/xamoom/Morpheus">Morpheus</a> is maintained by <a href="https://github.com/xamoom">xamoom</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
